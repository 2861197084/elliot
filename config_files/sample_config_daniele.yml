experiment:
  data_config:
    strategy: fixed
    dataloader: VisualLoader
    dataset_path: ../data/{0}/trainingset.tsv
    root_folder: ../data/{0}/splitting/
    train_path: ../data/{0}/trainingset.tsv
#    validation_path: ../data/{0}/trainingset.tsv
    test_path: ../data/{0}/testset.tsv
    side_information:
      visual_features: ../data/{0}/original/features.npy
#      dir_visual_features: ../data/{0}/original/features/
      item_mapping: ../data/{0}/visual_feats.tsv
      images_src_folder: ../data/{0}/original/images/
      output_image_size: (224,224)
#  splitting:
#    save_on_disk: True
#    save_folder: ../data/{0}/splitting/
#    test_splitting:
#        strategy: fixed_timestamp|temporal_hold_out|random_subsampling|random_cross_validation
#        timestamp: best|1609786061
#        test_ratio: 0.2
#        leave_n_out: 1
#        folds: 5
#    validation_splitting:
#        strategy: fixed_timestamp|temporal_hold_out|random_subsampling|random_cross_validation
#        timestamp: best|1609786061
#        test_ratio: 0.2
#        leave_n_out: 1
#        folds: 5
#  prefiltering:
#    strategy: global_threshold|user_average|user_k_core|item_k_core|iterative_k_core|n_rounds_k_core|cold_users
#    threshold: 3|average
#    core: 5
#    rounds: 2
#  dataset: categorical_dbpedia_ml1m
  dataset: amazon_men
#  path_output_rec_result: ../results/{0}/recs/
#  path_output_rec_weight: ../results/{0}/weights/
#  path_output_rec_performance: ../results/{0}/performance/
#  path_logger_config: ./config/logger_config.yml
#  path_log_folder: ../log/
  top_k: 50
  evaluation:
    cutoff: [10]
    simple_metrics: [ nDCG, Precision, Recall, ItemCoverage, HR, MRR, MAP, F1, Gini, SEntropy, EFD, EPC, LAUC]
    relevance_threshold: 1
    paired_ttest: True
    complex_metrics:
#    - metric: UserMADrating
#      clustering_name: Happiness
#      clustering_file: /home/cheggynho/Documents/UMUAI2019FatRec/ml-1m-2020-03-08/Clusterings/UsersClusterings/user_clustering_happiness.tsv
    - metric: DSC
      beta: 2
    - metric: SRecall
      feature_data: ../data/example/map.tsv
  gpu: -1 # -1 is not use GPU
  models:
#    MostPop:
#      meta:
#        save_recs: True
#    Random:
#      meta:
#        save_recs: True
#    MultiDAE:
#      meta:
#        hyper_max_evals: 1
#        hyper_opt_alg: tpe|atpe|mix|rand|anneal
#        validation_rate: 10
#        verbose: False
#        save_weights: False
#        save_recs: True
#      lr: 0.001
#      epochs: 50
#      intermediate_dim: 600
#      latent_dim: 200
#      batch_size: -1
#      dropout_pkeep: 1
#      reg_lambda: 0.01
#    MultiVAE:
#      meta:
#        hyper_max_evals: 2
#        hyper_opt_alg: tpe
#        validation_rate: 10
#        verbose: False
#        save_weights: False
#        save_recs: False
#      lr: 0.01
#      epochs: [50,20]
#      intermediate_dim: 300
#      latent_dim: 100
#      batch_size: -1
#      dropout_pkeep: 1
#      reg_lambda: 0.01
#    BPRMF:
#      meta:
#        hyper_max_evals: 10
#        hyper_opt_alg: tpe
#        validation_rate: 10
#        verbose: True
#        save_weights: False
#        save_recs: True
#        validation_metric: nDCG
#        restore_epoch: -1
#      lr: 0.05
#      epochs: 50
#      embed_k: [10,50,100,125,150,200]
#      bias_regularization: 0
#      user_regularization: [0.0025,0.005,0.01]
#      positive_item_regularization: [0.0025,0.005,0.01]
#      negative_item_regularization: [0.00025,0.0005,0.001]
#      update_negative_item_factors: True
#      update_users: True
#      update_items: True
#      update_bias: True
#    NNBPRMF:
#      meta:
#        hyper_max_evals: 10
#        hyper_opt_alg: tpe
#        validation_rate: 10
#        verbose: True
#        save_weights: False
#        save_recs: True
#        validation_metric: nDCG
#        restore_epoch: -1
#      lr: [0.001]
#      epochs: 50
#      embed_k: [50,100,125,150,200]
#      batch_size: 512
#      l_w: 0.0025
#      l_b: 0
#    VBPR:
#      meta:
#        verbose: True
#        validation_rate: 10
#        save_weights: False
#        save_recs: False
#        validation_metric: nDCG@10
#        restore_epoch: -1
#      lr: 0.0005
#      epochs: 50
#      factors: 100
#      factors_d: 20
#      batch_size: 128
#      l_w: 0.000025
#      l_b: 0
#      l_e: 0.002
#    DeepStyle:
#      meta:
#        verbose: True
#        validation_rate: 10
#        save_weights: False
#        save_recs: False
#        validation_metric: nDCG@10
#        restore_epoch: -1
#      lr: 0.0005
#      epochs: 50
#      factors: 100
#      batch_size: 128
#      l_w: 0.000025
#    ACF:
#      meta:
#        verbose: True
#        validation_rate: 10
#        save_weights: False
#        save_recs: False
#        validation_metric: nDCG@10
#        restore_epoch: -1
#      lr: 0.0005
#      epochs: 50
#      factors: 200
#      batch_size: 128
#      l_w: 0.000025
#      layers_component: (64, 1)
#      layers_item: (64, 1)
    DVBPR:
      meta:
        verbose: True
        validation_rate: 10
        save_weights: False
        save_recs: False
        validation_metric: nDCG@10
        restore_epoch: -1
      lr: 0.0005
      epochs: 50
      factors: 100
      batch_size: 128
      lambda_1: 0.000025
      lambda_2: 0.000025
#    KaHFM:
#      meta:
#        hyper_max_evals: 1
#        hyper_opt_alg: tpe
#        validation_rate: 1
#        verbose: True
#        save_weights: False
#        save_recs: True
#        validation_metric: nDCG
#        restore_epoch: -1
#      lr: 0.05
#      epochs: 10
#      bias_regularization: 0
#      user_regularization: 0.0025
#      positive_item_regularization: 0.0025
#      negative_item_regularization: 0.00025
#      update_negative_item_factors: True
#      update_users: True
#      update_items: True
#      update_bias: True
#    KaHFMBatch:
#      meta:
#        hyper_max_evals: 5
#        hyper_opt_alg: tpe
#        validation_rate: 10
#        verbose: False
#        save_weights: False
#        save_recs: False
#        validation_metric: nDCG
#        restore_epoch: -1
#      lr: [0.001, 0.0005, 0.0001]
#      epochs: 100
#      batch_size: [512,1024, 2048]
#      l_w: [0.0025, 0.005]
#      l_b: 0
#    NGCF:
#      meta:
#        hyper_max_evals: 1
#        hyper_opt_alg: tpe
#        validation_rate: 10
#        verbose: False
#        save_weights: False
#        save_recs: False
#        validation_metric: nDCG@10
#        restore_epoch: -1
#      learning_rate: 0.001
#      epochs: 100
#      latent_dim: 128
#      l_w: 0.001
#      weight_size: (64,)
#      batch_size: 512
#      node_dropout: ()
#      message_dropout: (0.1,)
#      n_fold: 5
#    LightGCN:
#      meta:
#        hyper_max_evals: 1
#        hyper_opt_alg: tpe
#        validation_rate: 10
#        verbose: False
#        save_weights: False
#        save_recs: False
#        validation_metric: nDCG@10
#        restore_epoch: -1
#      learning_rate: 0.001
#      epochs: 100
#      latent_dim: 128
#      l_w: 0.001
#      batch_size: 512
#      n_layers: 1
#      n_fold: 5
#    PureSVD:
#      meta:
#        hyper_max_evals: 1
#        hyper_opt_alg: tpe
#        validation_rate: 1
#        verbose: True
#        save_weights: False
#        save_recs: False
#        validation_metric: nDCG
#        restore_epoch: -1
#      restore: False
#      factors: 10
#    WRMF:
#      meta:
#        hyper_max_evals: 1
#        hyper_opt_alg: tpe
#        validation_rate: 1
#        verbose: True
#        save_weights: False
#        save_recs: False
#        validation_metric: nDCG
#        restore_epoch: -1
#      epochs: 2
#      factors: 10
#      alpha: 1
#      reg: 0.1
#    ItemKNN:
#      meta:
#        verbose: True
#        save_recs: False
#      neighbors: 50
#      similarity: cosine
#      implementation: aiolli
#    UserKNN:
#      meta:
#        verbose: True
#        save_recs: False
#      neighbors: 50
#      similarity: cosine
#      implementation: aiolli
#    NeuMF:
#      meta:
#        verbose: True
#        save_recs: False
#        validation_rate: 1
#      mf_factors: 10
#      mlp_factors: 10
#      mlp_hidden_size: (5, 3, 2)
#      prob_keep_dropout: 0.2
#      is_mf_train: True
#      is_mlp_train: True
#      batch_size: 512
#      epochs: 10
#      lr: 0.001
#    AttributeItemKNN:
#      meta:
#        verbose: True
#        save_recs: False
#      neighbors: 50
#      similarity: braycurtis
#    AttributeUserKNN:
#      meta:
#        verbose: True
#        save_recs: False
#      neighbors: 50
#      similarity: braycurtis
#    VSM:
#      meta:
#        verbose: True
#        save_recs: False
#      similarity: cosine
#      user_profile: binary
#      item_profile: binary
#    FunkSVD:
#      meta:
#        hyper_max_evals: 1
#        hyper_opt_alg: tpe
#        validation_rate: 1
#        verbose: True
#        save_weights: False
#        save_recs: False
#        validation_metric: nDCG
#        restore_epoch: -1
#      epochs: 2
#      restore: False
#      factors: 10
#      reg_w: 0.1
#      reg_b: 0.001
#      lr: 0.001
#    MF:
#      meta:
#        hyper_max_evals: 1
#        hyper_opt_alg: tpe
#        validation_rate: 1
#        verbose: True
#        save_weights: False
#        save_recs: False
#        validation_metric: nDCG
#        restore_epoch: -1
#      epochs: 2
#      restore: False
#      factors: 10
#      reg: 0.1
#      lr: 0.001
#    LMF:
#      meta:
#        hyper_max_evals: 1
#        hyper_opt_alg: tpe
#        validation_rate: 10
#        verbose: False
#        save_weights: False
#        save_recs: False
#        validation_metric: nDCG@10
#        restore_epoch: -1
#      epochs: 100
#      restore: False
#      factors: 50
#      reg: 0.01
#      lr: 0.01
#      alpha: 0.5
#      batch_size: 512
#    GMF:
#      meta:
#        hyper_max_evals: 1
#        hyper_opt_alg: tpe
#        validation_rate: 10
#        verbose: True
#        save_weights: False
#        save_recs: False
#        validation_metric: nDCG@10
#        restore_epoch: -1
#      epochs: 100
#      restore: False
#      mf_factors: 50
#      is_edge_weight_train: True
#      lr: 0.01
#      batch_size: 512
